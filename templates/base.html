{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Agrotiquiza{% endblock %}</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/global.css' %}">
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    {% block extra_css %}{% endblock %}
</head>

<body>

{% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }}" style="display:none;">
            {{ message }}
        </div>
    {% endfor %}
{% endif %}

<div id="toast-container"></div>

{% if user.is_authenticated %}
<div class="sidebar">
    <h3>Agrotiquiza</h3>

    <a href="/inventario/" class="nav-link">
        Inicio
    </a>

    <ul>
        {% if user.rol.nombre_rol == "Gerente" %}
        <li>
            <details>
                <summary>Administración</summary>
                <ul>
                    <li><a href="{% url 'users:users_list' %}">Gestión de Usuarios</a></li>
                    <li><a href="{% url 'users:register' %}">Registrar Usuario</a></li>
                </ul>
            </details>
        </li>
        {% endif %}

        <li>
            <details open>
                <summary>Gestión Animal</summary>
                <ul>
                    <li><a href="{% url 'ganaderia:animales_list' %}">Identificación de Animales</a></li>
                    <li><a href="{% url 'ganaderia:partos_list' %}">Registrar Partos</a></li>
                    <li><a href="{% url 'ganaderia:pesajes_list' %}">Registro de Pesajes</a></li>
                    <li><a href="{% url 'ganaderia:eventos_salida_list' %}">Eventos de Salida</a></li>
                    <li><a href="{% url 'ganaderia:registrar_produccion' %}">Producción de Leche</a></li>
                    <li><a href="{% url 'ganaderia:traslados' %}">Traslados</a></li>
                    <li><a href="{% url 'finca:list' %}">Registrar Finca</a></li>
                </ul>
            </details>
        </li>

        <li>
            <details>
                <summary>Salud Animal</summary>
                <ul>
                    <li><a href="{% url 'salud:evento_sanitario_list' %}">Eventos Sanitarios</a></li>
                    <li><a href="{% url 'salud:inseminacion_list' %}">Inseminación</a></li>
                    <li><a href="{% url 'salud:gestacion_pendientes' %}">Confirmación de Gestación</a></li>
                </ul>
            </details>
        </li>
    </ul>

    <br>
    <a href="{% url 'users:logout' %}" class="nav-link" style="background: var(--color-danger);">
        Cerrar sesión
    </a>
</div>
{% endif %}

<div class="content">
    {% block content %}
    {% endblock %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'js/toast.js' %}"></script>
{% block extra_js %}{% endblock %}

</body>
</html>