{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'ganaderia/css/animales_list.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2>Identificaci√≥n Animal</h2>
  
  <!-- Formulario de b√∫squeda -->
  <form method="get" class="search-form">
    <input 
      type="text" 
      name="q" 
      placeholder="Buscar por arete o nombre" 
      value="{{ request.GET.q }}" 
      class="form-control search-input"
    />
    <button type="submit" class="search-btn">
      <ion-icon name="search-circle-outline"></ion-icon>
    </button>
  </form>

  <!-- Tabla de animales -->
  <div class="table-container">
    <table class="animales-table table-striped">
      <thead>
        <tr>
          <th>Arete</th>
          <th>Nombre</th>
          <th>Sexo</th>
          <th>Raza</th>
          <th>Finca</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for a in animales %}
        <tr>
          <td>{{ a.numero_arete }}</td>
          <td>{{ a.nombre }}</td>
          <td>{{ a.get_sexo_display }}</td>
          <td>{{ a.raza }}</td>
          <td>{{ a.finca.nombre }}</td>
          <td>{{ a.estado }}</td>
          <td>
            <a href="{% url 'ganaderia:animal_detail' a.pk %}" class="btn-ver">
              Ver
            </a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="7">
            <div class="empty-state">
              <div class="empty-state-icon">üêÑ</div>
              <div class="empty-state-text">No hay animales registrados</div>
            </div>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% block extra_js %}
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
{% endblock %}
{% endblock %}